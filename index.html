<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Freckle+Face&family=Irish+Grover&family=Londrina+Shadow&family=Mystery+Quest&family=Nabla:EHLT@10&family=Oregano:ital@0;1&family=Rubik+Glitch&family=Rubik+Vinyl&family=Sedgwick+Ave+Display&family=Yatra+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.24.0/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="styles.css">
  </head>

    

    <title>Movie Log</title>

  </head>
  <body>

    <div class="image-container">
      <div class="text">Movie Log</div>
    </div>

    <!--Boostrap Navbar: https://getbootstrap.com/docs/5.3/components/navbar/
        Boostrap Select Menu: https://www.w3schools.com/bootstrap5/bootstrap_form_select.php
    -->

    <nav class="navbar navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Home</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">Add Movies</a>
              
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="#" id="deleteButton" >Delete Movies</a>
            </li>

            <li class="nav-item">
              <a class="nav-link active text-white" aria-current="page" href="#" id="editLogButton" data-bs-toggle="tooltip" data-bs-placement="top" title="Select a row to edit">Edit Log</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Groups
              </a>
              <ul class="dropdown-menu">
                 <li><a class="dropdown-item" href="#" id="groupSeriesLink" title="Select a movie first">Group Movie Series</a></li>
                <li><hr class="dropdown-divider"></li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link active dropdown-toggle" href="#" id="filterDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Sort
              </a>
                <ul class="dropdown-menu" aria-labelledby="filterDropdown">
                  <li><a class="dropdown-item" href="#" id="filterTitle" onclick="sortTableByTitle()">By Title (A-Z)</a></li>
                  <li><a class="dropdown-item" href="#" id="filterTitle" onclick="sortTableByDirector()">By Director (A-Z)</a></li>
                  <li><a class="dropdown-item" href="#" onclick="sortTableByRating()">By Rating (High to Low)</a></li>
                  <li><a class="dropdown-item" href="#" onclick="sortTableByRatingReverse()">By Rating (Low to High)</a></li>
                </ul>
            </li>
              </ul>
          
         <form class="d-flex" role="search">
              <input class="form-control me-2" type="search" placeholder="Search by any word " aria-label="Search">
              <button class="btn btn-outline-light" id="searchFilterSubmit" type="submit">Submit</button>
        </form>
        </div>
      </div>
    </nav>

    <div class="table-responsive" id="myTable">
        <table class="table table-dark table-hover" >
            <thead>
            <tr>
                <th scope="col">Cover</th>
                <th scope="col">Title</th>
                <th scope="col">Genre</th>
                <th scope="col">Director</th>
                <th scope="col">Watch Status</th>
                <th scope="col">Rating</th>
                <th scope="col">Synopsis</th>
                <th scope="col">Comments</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row"><img class="img-responsive" src="images/nowyouseemecover.jpg" alt="Now You See Me Movie Cover"></th>
                <td>Now You See Me</td>
                <td>Thriller</td>
                <td>Louis Leterrier</td>
                <td>Finished</td>
                <td>
                  <span class="fa fa-star checked"></span>
                  <span class="fa fa-star checked"></span>
                  <span class="fa fa-star checked"></span>
                  <span class="fa fa-star checked"></span>
                  <span class="fa fa-star checked"></span>
                </td>
                <td>Four illusionists, known as "The Four Horsemen," pull off high-stakes heists during their magic shows. They are pursued by the FBI and a mysterious former magician, trying to uncover their secrets.</td>
                <td>Absolutely amazing! The magic tricks are so cool. </td>
            </tr>
            <tr>
              <th scope="row"><img class="img-responsive" src="images/sourcecodemoviecover.jpg" alt="Source Code Movie Cover"></th>
              <td>Source Code</td>
              <td>Sci-fi</td>
              <td>Duncan Jones</td>
              <td>Finished</td>
              <td>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
              </td>
              <td>Captain Colter Stevens repeatedly relives the last eight minutes of a train bombing through a high-tech program. Tasked with finding the bomber, he races against time to prevent a larger disaster.</td>
              <td>One of my favorite time travel movies of all time.</td>
            </tr>
            <tr>
              <th scope="row"><img class="img-responsive" src="images/LongLegsPoster.jpg" alt="Long Legs Movie Cover"></th>
              <td>Long Legs</td>
              <td>Horror</td>
              <td>Oz Perkins</td>
              <td>Finished</td>
              <td>
                <span class="fa fa-star checked"></span>
              </td>
              <td>An FBI agent hunts a relentless serial killer, delving into a dark, occult world. Disturbing personal ties emerge as the investigation intensifies, blurring the lines between reality and nightmare.</td>
              <td>The premise of the story is promising but the plot is very slow-paced and boring with little gore.</td>
            </tr>
             <tr>
              <th scope="row"><img class="img-responsive" src="images/RedWhiteRoyalBlue.jpg" alt="Red, White and Royal Blue Movie Cover"></th>
              <td>Red, White and Royal Blue</td>
              <td>Romance</td>
              <td>Matthew Lopez</td>
              <td>Finished</td>
              <td>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
              </td>
              <td>A British prince and the US president's son navigate a secret romance amidst international diplomacy. Their forbidden relationship sparks a global scandal, testing family loyalties and political alliances.</td>
              <td>I was super excited to see this movie because the book is one of my favorite romance novels of all time. Overall, I really enjoyed it but I don't like how some 
                of my favorite quotes and scenes from the book were cut out or changed.
              </td>
            </tr>
            <tr>
              <th scope="row"><img class="img-responsive" src="images/Wicked_(2024_film)_poster.png" alt="Wicked Movie Cover"></th>
              <td>Wicked</td>
              <td>Fantasy</td>
              <td>Jon M. Chu</td>
              <td>Want to Watch</td>
              <td>
                
              </td>
              <td>Elphaba, misunderstood and powerful, and Glinda, popular and ambitious, form an unlikely bond. Their paths diverge amidst Oz's political turmoil, leading to their iconic destinies.</td>
              <td>Everyone keeps talking about, I just haven't found the time to watch it yet.</td>
            </tr>
            <tr>
              <th scope="row"><img class="img-responsive" src="images/Phineas_and_Ferb_Across_the_2nd_Dimension_poster.jpg" alt="Phineas and Ferb Movie Cover"></th>
              <td>Phineas and Ferb the Movie: Across the 2nd Dimension</td>
              <td>Animation</td>
              <td>Dan Povenmire</td>
              <td>Finished</td>
              <td>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
              </td>
              <td>Phineas and Ferb enter an alternate dimension where an evil Doofenshmirtz rules. Teaming up with Perry and his counterpart, they battle a robotic army to save both dimensions while discovering Perry’s secret identity.</td>
              <td>I love anything Phineas and Ferb so this movie was super funny. I loved how the boys finally got to see what Perry gets up to during the day.</td>
            </tr>
            </tbody>
        </table>
    </div>

    <!--Star Rating System: https://www.w3schools.com/howto/howto_css_star_rating.asp-->
    <!-- Modal Form for adding movies to list -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content bg-black text-light">
      <div class="modal-header">
        <h5 class="modal-title">Add New Movie</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="movieForm" class="needs-validation" novalidate>
          <div class="mb-3">
            <label for="movieTitle" class="form-label">Movie Title</label>
            <input type="text" class="form-control" id="movieTitle" placeholder="Aliens" required>
            <div class="invalid-feedback">Please enter a movie title.</div>
          </div>
          <div class="mb-3">
            <label for="movieGenre" class="form-label">Genre</label>
            <input type="text" class="form-control" id="movieGenre" placeholder="Horror" required>
            <div class="invalid-feedback">Please enter a genre.</div>
          </div>
          <div class="mb-3">
            <label for="watchStatus" class="form-label">Watch Status</label>
            <select class="form-select" id="watchStatus">
              <option>Want to Watch</option>
              <option>Still Watching</option>
              <option>Finished</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="rating" class="form-label">Rating</label>
            <select class="form-select" id="rating">
                <option value="1">
                    <span class="fa fa-star checked">⭐</span>
                </option>
                <option value="2">
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                </option>
                <option value="3">
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                </option>
                <option value="4">
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                </option>
                <option value="5">
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                    <span class="fa fa-star checked">⭐</span>
                </option>
            </select>
        </div>
          <div class="mb-3">
            <label for="movieComments" class="form-label">Comments</label>
            <textarea class="form-control" id="movieComments" placeholder="Write your thoughts on the movie here" rows="3"></textarea>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" id="addMovieSubmitButton">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal for deleting rows -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content bg-black text-light">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
           <p>Are you sure you want to delete the selected movie?</p>
            <p>To delete multiple rows, click the screen outside this modal to close it, select other rows and then hit Delete button.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="confirmDelete">Delete</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Grouping series together -->
<div class="modal fade" id="groupSeriesModal" tabindex="-1" aria-labelledby="groupSeriesModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-black text-light">
      <div class="modal-header">
        <h5 class="modal-title" id="groupSeriesModalLabel">Movies in the Same Series</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Average Rating Display -->
        <p id="averageRatingText">Average Rating: <span id="averageRatingValue">N/A</span></p>
        <!-- Table for Grouped Movies -->
        <table class="table">
          <thead>
            <tr>
              <th>Cover</th>
              <th>Title</th>
              <th>Rating</th>
            </tr>
          </thead>
          <tbody id="groupedMoviesTableBody">
            <!-- Rows will be inserted here by JavaScript -->
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.24.0/dist/bootstrap-table.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>